export PKG_CONFIG_PATH="/usr/local/opt/libffi/lib/pkgconfig"
export PATH="/usr/local/opt/node@8/bin:$PATH"
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh
export FZF_DEFAULT_COMMAND='rg --files --hidden 2> /dev/null'
export FZF_CTRL_T_COMMAND="$FZF_DEFAULT_COMMAND"
#export FZF_DEFAULT_OPTS='--height 40% --reverse --preview="head -$LINES {}"'
export FZF_DEFAULT_OPTS='--height 40% --reverse'
export NODE_OPTIONS=--max-old-space-size=8192
export PATH="$HOME/.cargo/bin:$PATH"
export HOMEBREW_NO_AUTO_UPDATE=1

# ---------- Aliases
# macos doesn't auto sort by CPU
alias top='top -o cpu'
alias vis='vi -c OpenSession'
alias mvis='mvim -c OpenSession'
alias viallnotes='vi ~/Dropbox/Notes/*.md'
alias goctave='\octave -q'
alias octave='octave -W -q'
alias ctags="rg --files | ctags --links=no -L-"

# Editing aliases
alias cvim='vi ~/.vimrc'
alias ctmux='vi ~/.tmux.conf'
alias cbash="vi ~/.bashrc*"
alias czsh="vi ~/.zshrc*"
alias cgit="vi ~/.gitconfig*"

# Proxy stuff
alias proxywifion='sudo networksetup -setsocksfirewallproxystate Wi-Fi on' #on / off
alias proxywifioff='sudo networksetup -setsocksfirewallproxystate Wi-Fi off' #on / off

function nzproxy {
  #ssh -ND 9876 blu@benlu.co &
  #ssh -ND 9876 blu@202.169.196.28 &
  ssh -ND 9876 mezap &
  proxywifion
  read -p "Press enter to turn off proxy: "
  proxywifioff
  fg
}

# Use lf to switch directories and bind it to ctrl-o
lfcd () {
    tmp="$(mktemp)"
    lf -last-dir-path="$tmp" "$@"
    if [ -f "$tmp" ]; then
        dir="$(cat "$tmp")"
        rm -f "$tmp"
        [ -d "$dir" ] && [ "$dir" != "$(pwd)" ] && cd "$dir"
    fi
}
bindkey -s '^o' 'lfcd\n'

# Function to show colours
function show_colours {
  for i in {0..255}; do printf "\x1b[38;5;${i}mcolor%-5i\x1b[0m" $i ; if ! (( ($i + 1 ) % 8 )); then echo ; fi ; done
}

